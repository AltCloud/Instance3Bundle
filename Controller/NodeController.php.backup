<?php

namespace AltCloud\Instance3Bundle\Controller;

use AltCloud\Instance3Bundle\Entity\Node;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Bundle\FrameworkBundle\Controller\Controller;

class NodeController extends Controller
{

	public function showAction($id, $mname = false)
	{
		$node = $this->getDoctrine()
		    ->getRepository('ACInst3Bundle:Node')
		    ->find($id);

		if (!$node) {
		    throw $this->createNotFoundException('No Node found for id '.$id);
		}

		// do something, like pass the $node object into a template

        #return new Response('<html><body><h1>EenNode!</h1></body></html>');

		$node_payload['controller']	='ACInst3Bundle:Text:show';
		$node_payload['vars']['id']	='1';

		return $this->forward($node_payload['controller'],$node_payload['vars']);

        #return new Response('<html><body><h1>'.$text->getTitle().
        #					'</h1><p><b>'.$text->getTeaser().
        #					'</b></p>'.$text->getContent().'</body></html>');
        #return $this->render('ACInst3Bundle:Text:show.html.twig', array('text' => $text));
    	}

}
